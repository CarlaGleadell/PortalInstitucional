/*! iCdropdown v1.0.0 | © 2021 Cyril Rezé | Licensed under MIT */
(e=>{e.addEventListener("DOMContentLoaded",()=>{const t=e.querySelectorAll(".ic-dropdown"),s=27,o=38,n=40;let i=-1;const r=function(e,t){if(e.querySelector(".ic-dropdown-menu.open")){const s=e.querySelectorAll("li a");t==s.length?t=0:t<0&&(t=s.length-1),s[t].focus(),i=t}};Array.prototype.forEach.call(t,function(t,a){const d=t,c=t.querySelector(".ic-dropdown-menu"),l=t.querySelector("button.ic-dropdown-toggle");e.addEventListener("click",function(t){(e=>!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))(c)&&(!function(t,s,o){const n=e=>{t.contains(e.target)||(o.className="ic-dropdown-menu",s.classList.remove("show"),s.setAttribute("aria-expanded","false"),i())},i=()=>{e.removeEventListener("click",n)};e.addEventListener("click",n)}(d,l,c),i=-1)}),t.querySelector("button.ic-dropdown-toggle").addEventListener("click",function(e){"false"==this.getAttribute("aria-expanded")||null==this.getAttribute("aria-expanded")?(this.parentNode.querySelector(".ic-dropdown-menu").classList.add("open"),this.classList.add("show"),this.setAttribute("aria-expanded","true"),this.focus(),l.offsetWidth>c.offsetWidth&&c.setAttribute("style","min-width:"+l.offsetWidth+"px; border-top-right-radius:0;")):(this.parentNode.querySelector(".ic-dropdown-menu").classList.remove("open"),this.classList.remove("show"),this.setAttribute("aria-expanded","false"),i=-1),e.preventDefault()}),t.addEventListener("keydown",function(e){let t=!1;switch(e.keyCode){case n:l.setAttribute("aria-expanded","true"),l.classList.add("show"),c.classList.add("open"),r(d,i+1),t=!0;break;case o:r(d,i-1),t=!0;break;case s:l.setAttribute("aria-expanded","false"),l.classList.remove("show"),c.classList.remove("open"),t=!0}t&&e.preventDefault()})})})})(document);
